!function(){"use strict";angular.module("angular-contextual-date",[])}(),function(){"use strict";function e(){var e={scope:{datetime:"=",timezone:"="},restrict:"EA",controller:t,controllerAs:"CDC",template:"<span ng-bind='CDC.cDateFormatted'></span>",bindToController:!0};return e}function t(e){function t(){a.cDateFormatted=e.format(a.datetime,null,a.timezone)}var a=this;a.cDateFormatted="",t()}angular.module("angular-contextual-date").directive("contextualDate",e),e.$inject=[],t.$inject=["contextualDateService"]}(),function(){"use strict";function e(e){function t(t,a){return e.format(t,null,a)}return t}angular.module("angular-contextual-date").filter("contextualDate",e),e.$inject=["contextualDateService"]}(),function(){"use strict";function e(e,t){function a(){c=null}function n(e){return e=e||new Date,c=c||new Date,e.getTime()-m.config.buffer<c.getTime()?e=c:c=e,e}function r(e,t,a){var r=m.parseDate(e);if(isNaN(r))return e;var o,u,i=n();if(u=m.formatRelative(r,i),m.config.hideFullDate)return u;o=t?t:m.formatFull(r,i,a);var s=m.config.contextualDateFormat,l=s.replace("%fullDate%",o).replace("%relativeDate%",u);return l}function o(t,a,r){var o=m.parseDate(t);if(isNaN(o))return t;a=n(a);var u=a.getTime(),i=o.getTime(),s="",l=m.config.thresholds,c=o.getTime()-a.getTime()>0,d=o.getDate()===a.getDate()&&o.getMonth()===a.getMonth()&&o.getFullYear()===a.getFullYear(),f=Math.round(31*l.month),h=new Date(u);h.setDate(h.getDate()-f);var g=new Date(u);g.setDate(g.getDate()+f);var D=!c&&i-h.getTime()>=0,M=c&&g.getTime()-i>=0,y=Math.round(365*l.year),v=new Date(u);v.setDate(v.getDate()-y);var w=new Date(u);w.setDate(w.getDate()+y);var x=!c&&i-v.getTime()>=0,p=c&&w.getTime()-i>=0,F=e("date"),T=m.config.fullDateFormats;return s=d?F(o,T.today,r):D?F(o,T.thisMonth,r):M?F(o,T.nextMonth,r):x?F(o,T.thisYear,r):p?F(o,T.nextYear,r):c?F(o,T.future,r):F(o,T.historical,r)}function u(e){return Array.prototype.join.call(arguments," ").trim()}function i(){var e,a=m.config.language,n=t[0].documentElement.lang;return a&&(e=m.languages[a]),!e&&n&&(e=m.languages[n]),e||(e=m.languages.en_US),e}function s(e,t){var a=m.parseDate(e);if(isNaN(a))return e;t=n(t);var r=i(),o=t.getTime()-a.getTime(),s=Math.abs(o),l=s/1e3,c=l/60,d=c/60,f=d/24,h=f/7,g=f/30,D=f/365,M="",y=m.config.thresholds;return s<=y.now?M=r.now:(D>=y.years?M=u(Math.round(D),r.years):D>=y.year?M=u(1,r.year):g>=y.months?M=u(Math.round(g),r.months):g>=y.month?M=u(1,r.month):h>=y.weeks?M=u(Math.round(h),r.weeks):h>=y.week?M=u(1,r.week):f>=y.days?M=u(Math.round(f),r.days):f>=y.day?M=u(1,r.day):d>=y.hours?M=u(Math.round(d),r.hours):d>=y.hour?M=u(1,r.hour):c>=y.minutes?M=u(Math.round(c),r.minutes):c>=y.minute?M=u(1,r.minute):l>=y.seconds?M=u(Math.round(l),r.seconds):l>=y.second?M=u(1,r.second):s>=y.milliseconds?M=u(Math.round(s),r.milliseconds):s>=y.millisecond&&(M=u(1,r.millisecond)),M=M?o>=0?u(r.prefix,M,r.suffix):u(r.futurePrefix,M,r.futureSuffix):r.now),M}function l(e){return e instanceof Date?e:new Date(angular.isNumber(e)?e:/^\d+$/.test(e)?parseInt(e,10):e)}var c,m={format:r,formatRelative:s,formatFull:o,parseDate:l,invalidate:a,config:{hideFullDate:!1,fullDateFormats:{today:"h:mm a",thisMonth:"MMM d 'at' h:mm a",thisYear:"MMM d",historical:"MMM d, y",nextMonth:"MMM d 'at' h:mm a",nextYear:"MMM d, y",future:"MMM d, y"},contextualDateFormat:"%fullDate% (%relativeDate%)",language:null,thresholds:{years:1.75,year:.75,months:1.75,month:.9,weeks:1.75,week:1,days:2,day:1,hours:2,hour:1,minutes:2,minute:1,seconds:2,second:1,milliseconds:2,millisecond:1,now:0},buffer:250},languages:{en_US:{now:"just now",prefix:"",suffix:"ago",futurePrefix:"",futureSuffix:"from now",millisecond:"millisecond",milliseconds:"milliseconds",second:"second",seconds:"seconds",minute:"minute",minutes:"minutes",hour:"hour",hours:"hours",day:"day",days:"days",week:"week",weeks:"weeks",month:"month",months:"months",year:"year",years:"years"}}};return m}angular.module("angular-contextual-date").factory("contextualDateService",e),e.$inject=["$filter","$document"]}();
//# sourceMappingURL=angular-contextual-date.min.js.map